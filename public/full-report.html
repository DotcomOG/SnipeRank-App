<!--
  Version: 1.10.6-FR
  Last Updated: Aug 16, 2025
  Targeted fixes only:
  - Logos from /img only (no neutral icons)
  - What's Working = 7; Needs Attention = 20 (unique)
  - Each item is a single paragraph with 4–6 sentences, non-prescriptive
  - No lead form on full-report
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SnipeRank — Full Report</title>
  <style>
    :root{
      --max-width:760px; --pad-v:3vh; --pad-h:2rem;
      --muted:#666; --border:#e5e5e5;
      --sr-radius:16px; --sr-border:#e6e6e9; --sr-shadow:0 10px 30px rgba(0,0,0,.12);
      --sr-text:#111; --sr-muted:#5b5b66; --sr-bg:#fff; --sr-pill-bg:#fafafb; --sr-gap:16px;
    }
    *{box-sizing:border-box}
    body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Helvetica,Arial,sans-serif;background:#fff;color:#000;margin:0;padding:var(--pad-v) var(--pad-h);max-width:var(--max-width);margin-inline:auto;display:flex;flex-direction:column;align-items:flex-start}
    h1{font-size:4rem;font-weight:700;margin:0 0 .25em 0;line-height:1;letter-spacing:-1px;background:linear-gradient(135deg,#000 0%,#3182CE 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
    h2{font-size:1.6rem;font-weight:700;margin:0 0 1rem 0}
    p{font-size:1.075rem;line-height:1.65;margin:0 0 1rem 0}

    .info-row{width:100%;display:flex;gap:1rem;align-items:center;justify-content:space-between;margin:.25rem 0 1rem}
    .powered-by,.for-url{color:var(--muted);font-size:.95rem}
    .powered-by a{color:#3182CE;text-decoration:none;font-weight:600}
    .for-url strong{color:#000}

    .card{width:100%;border:1px solid var(--border);border-radius:12px;box-shadow:0 1px 2px rgba(0,0,0,.04);background:#fff}
    .score-card{padding:1rem;margin-bottom:2.25rem}
    .score-top{display:flex;align-items:center;gap:.75rem;justify-content:space-between;flex-wrap:wrap}
    .score-main{display:flex;align-items:baseline;gap:.5rem}
    .score-number{font-size:2.25rem;font-weight:800}
    .score-band{color:var(--muted);font-size:.95rem}
    .btn-row{display:flex;gap:.5rem;align-items:center}
    .btn-ghost{border:1px solid #111;background:#fff;color:#111;padding:.55rem .9rem;border-radius:8px;cursor:pointer;font-weight:700;font-size:.95rem;transition:.2s}
    .btn-ghost:hover{background:#f2f2f2}
    .pillars{display:grid;grid-template-columns:1fr 1fr;gap:.75rem;margin-top:.75rem}
    .pillar{border:1px solid var(--border);border-radius:10px;padding:.6rem .75rem;display:flex;align-items:center;justify-content:space-between;font-size:.98rem;background:#fff}
    .pillar .label{font-weight:600}
    .badge{font-weight:700;padding:.2rem .5rem;border-radius:999px;border:1px solid var(--border);font-size:.85rem;background:#fafafa}
    .highlights{margin-top:.9rem;padding-top:.9rem;border-top:1px dashed var(--border)}
    .highlights h4{margin:0 0 .55rem 0;font-size:1.2rem;font-weight:800}
    .highlights ul{margin:0;padding-left:1rem}
    .highlights li{margin:.45rem 0;line-height:1.5}

    #summary-results .section-title{font-size:1.25rem!important;font-weight:700!important;margin:2rem 0 .6rem 0!important}
    #summary-results ul{margin:0 0 1.1rem 1.1rem!important;padding-left:.2rem!important;list-style:disc!important}
    #summary-results li{line-height:1.6!important;margin:.55rem 0!important;font-size:1.02rem!important}

    .llm-insights{margin:.4rem 0 1.2rem}
    .llm-row{display:grid;grid-template-columns:auto 1fr;gap:.8rem 1rem;align-items:start;padding:.8rem 0;border-bottom:1px dashed var(--border)}
    .llm-row:last-child{border-bottom:0}
    .llm-logo{display:flex;align-items:center;justify-content:center;min-width:42px;height:32px}
    .llm-logo img{height:28px;width:auto;display:block;object-fit:contain;max-width:110px}
    .llm-fallback{display:inline-flex;align-items:center;justify-content:center;height:28px;padding:0 .75rem;border:1px solid var(--border);border-radius:6px;font-size:.85rem;font-weight:600;color:#333;background:#f8f9fa}

    .consultation-section{text-align:center;margin:2.5rem 0}
    .consultation-section .btn-primary{background:#dc3545;color:#fff;border:none;padding:.85rem 2rem;border-radius:8px;font-size:1.05rem;font-weight:600;cursor:pointer;text-decoration:none;display:inline-block}
    .consultation-note{background:#f8f9fa;padding:1rem;border-radius:8px;margin-top:1.5rem;font-size:.95rem}

    .footer{width:100%;text-align:center;padding:2rem 0 1rem;margin-top:3rem;border-top:1px solid var(--border);color:#666;font-size:.9rem}

    @media(max-width:600px){.pillars{grid-template-columns:1fr}h1{font-size:3rem}}
  </style>
</head>
<body>
  <h1>SnipeRank</h1>
  <h2>AI SEO Analysis Results</h2>

  <div class="info-row">
    <div class="powered-by">Powered by <a href="https://quontora.com" target="_blank" rel="noopener">quontora</a></div>
    <div class="for-url">Analysis for: <strong id="current-url">—</strong></div>
  </div>

  <!-- Score Card -->
  <section class="card score-card" id="scoreCard" aria-live="polite">
    <div class="score-top">
      <div class="score-main">
        <div class="score-number" id="scoreNumber">—</div>
        <div class="score-band" id="scoreBand">Calculating…</div>
      </div>
      <div class="btn-row">
        <button class="btn-ghost" type="button" data-open="sr-modal">View Scoring Methodology</button>
        <button class="btn-ghost" id="copyLLMBtn" type="button">Copy Shareable Summary</button>
      </div>
    </div>
    <div class="pillars" id="pillarsGrid"></div>
    <div class="highlights" id="highlightsBlock" hidden>
      <h4>Highlights</h4>
      <ul id="highlightsList"></ul>
    </div>
  </section>

  <!-- Backend HTML goes here -->
  <section id="summary-results">
    <p style="text-align:center;color:gray;">Loading analysis...</p>
  </section>

  <!-- Single CTA (no form here) -->
  <section class="consultation-section">
    <h3>Ready to Improve Your AI Visibility?</h3>
    <p>After reviewing your analysis, book a free 30-minute consultation to discuss your specific opportunities and next steps.</p>
    <a href="https://calendly.com/quontora" class="btn-primary" target="_blank" rel="noopener">Schedule Free Consultation</a>
    <p class="consultation-note"><strong>What we'll cover:</strong> Your AI SEO opportunities, implementation timeline, and how to get found by ChatGPT, Gemini, and other AI platforms.</p>
  </section>

  <div class="footer">© 2025 SnipeRank by <a href="https://quontora.com" target="_blank" rel="noopener" style="color:#3182CE;text-decoration:none;">quontora.com</a>. Last updated August 11.</div>

  <!-- (Optional) Methodology modal could be included here if you use it on FR as well -->

  <script>
    // Logos from /img only
    const LOGO_SOURCES = {
      ChatGPT: ['/img/chatgpt-logo.png'],
      Claude: ['/img/claude-logo.png'],
      Gemini: ['/img/gemini-logo.png'],
      Copilot: ['/img/copilot-logo.png'],
      Perplexity: ['/img/perplexity-logo.png']
    };
    function logoDivFor(engine){
      const wrap=document.createElement('div'); wrap.className='llm-logo';
      const src=(LOGO_SOURCES[engine]||[])[0];
      if(!src){ wrap.innerHTML=`<span class="llm-fallback">${engine}</span>`; return wrap; }
      const img=document.createElement('img'); img.alt=`${engine} logo`; img.src=src;
      img.onerror=()=>{ wrap.innerHTML=`<span class="llm-fallback">${engine}</span>`; };
      img.onload =()=>{ wrap.innerHTML=''; wrap.appendChild(img); };
      wrap.appendChild(img); return wrap;
    }

    document.addEventListener("DOMContentLoaded", async () => {
      const urlParams = new URLSearchParams(window.location.search);
      const targetUrl = urlParams.get("url") || "https://example.com";
      document.getElementById("current-url").textContent = targetUrl;

      try{
        const res = await fetch(`https://sniperank-app2.onrender.com/report.html?url=${encodeURIComponent(targetUrl)}`);
        const html = await res.text();
        const host = document.getElementById("summary-results");
        host.innerHTML = html;

        // Enforce: 7 working, 20 needs (unique), each 4–6 sentences
        const d = new URL(targetUrl).hostname.replace(/^www\./,'');
        enforceWorkingAndNeeds(host, d);
        transformAIInsights(host);
      }catch(e){
        console.error(e);
        document.getElementById("summary-results").innerHTML = "<p style='text-align:center;color:red;'>Error loading analysis. Please try again.</p>";
      }

      // Minimal scorecard fallback
      const p = { access:18, trust:17, clarity:19, alignment:18, freshness:16 };
      renderScoreCard(p.access+p.trust+p.clarity+p.alignment+p.freshness, p, [
        "Ensure consistent schema coverage (Org, WebSite, FAQ) across key templates.",
        "Add concise FAQ aligned to 'how/compare' prompts.",
        "Reinforce org identity with clear authorship and a persistent contact path.",
        "Favor lists/Q&A/tables so AI can extract answers quickly."
      ]);

      function renderScoreCard(total, pillars, highlights){
        document.getElementById("scoreNumber").textContent = `${total}/100`;
        document.getElementById("scoreBand").textContent =
          total>=85?"Rank: Highly Visible ★★★★☆":total>=70?"Rank: Partially Visible ★★★☆☆":total>=55?"Rank: Needs Work ★★☆☆☆":"Rank: Low Visibility ★☆☆☆☆";
        const grid=document.getElementById("pillarsGrid"); grid.innerHTML="";
        [["AI Access Readiness",pillars.access],["Trust & Verification Signals",pillars.trust],["LLM Interpretability & Clarity",pillars.clarity],["Prompt-Pattern Alignment",pillars.alignment],["Freshness & Engagement Signals",pillars.freshness]].forEach(([label,val])=>{
          const d=document.createElement("div"); d.className="pillar";
          d.innerHTML=`<span class="label">${label}</span><span class="badge">${val}/20</span>`;
          grid.appendChild(d);
        });
        if (highlights?.length){
          const ul=document.getElementById("highlightsList"); ul.innerHTML="";
          highlights.forEach(h=>{ const li=document.createElement("li"); li.textContent=h; ul.appendChild(li); });
          document.getElementById("highlightsBlock").hidden=false;
        }
      }

      // ----- Full-report normalization -----
      function enforceWorkingAndNeeds(root, domain){
        const workingUL = findULAfterTitle(root, /what'?s\s*working/i);
        const needsUL   = findULAfterTitle(root, /needs\s*attention/i);
        if (workingUL) normalizeSection(workingUL, 7,   makeWorkingTemplates(domain), 4, 6, true);
        if (needsUL)   normalizeSection(needsUL,   20,  makeNeedsTemplates(domain),   4, 6, true);
      }
      function findULAfterTitle(root, rx){
        const h = Array.from(root.querySelectorAll("h2,h3,h4,.section-title")).find(n=>rx.test((n.textContent||'').trim()));
        if(!h) return null; let el=h.nextElementSibling;
        while(el && el.tagName && el.tagName.toLowerCase()!=='ul') el=el.nextElementSibling;
        return el||null;
      }
      function normalizeSection(ul, targetCount, templates, minS, maxS, dedupe){
        const seenTitles=new Set(), seenBodies=new Set();
        const items=[];
        // Keep existing unique items; rephrase to 4–6 sentences if needed
        Array.from(ul.querySelectorAll('li')).forEach(li=>{
          const raw=(li.textContent||'').trim(); if(!raw) return;
          const subj=(raw.split(':')[0]||raw).trim();
          const body=raw.replace(/^.*?:\s*/,'').trim();
          const para = makeVagueParagraph(subj, body);
          const tKey=subj.toLowerCase();
          const bKey=hashString(para.toLowerCase().replace(/\s+/g,' '));
          if (dedupe && (seenTitles.has(tKey) || seenBodies.has(bKey))) return;
          seenTitles.add(tKey); seenBodies.add(bKey);
          li.innerHTML = `<strong>${escapeHTML(subj)}:</strong> ${trimToSentenceRange(para,minS,maxS)}`;
          items.push(li);
        });
        // Backfill with templates until exact target
        for (const t of templates){
          if (items.length>=targetCount) break;
          const tKey=t.title.toLowerCase();
          const para = trimToSentenceRange(t.text, minS, maxS);
          const bKey=hashString(para.toLowerCase().replace(/\s+/g,' '));
          if (seenTitles.has(tKey) || seenBodies.has(bKey)) continue;
          const li=document.createElement('li');
          li.innerHTML = `<strong>${escapeHTML(t.title)}:</strong> ${para}`;
          ul.appendChild(li); items.push(li);
          seenTitles.add(tKey); seenBodies.add(bKey);
        }
        // If still short, softly vary copy
        let i=0;
        while(items.length<targetCount && templates.length){
          const t=templates[i++ % templates.length];
          const varied = softVary(t.text);
          const bKey=hashString(varied.toLowerCase().replace(/\s+/g,' '));
          if (seenBodies.has(bKey)) continue;
          const li=document.createElement('li');
          li.innerHTML = `<strong>${escapeHTML(t.title)}:</strong> ${trimToSentenceRange(varied,minS,maxS)}`;
          ul.appendChild(li); items.push(li); seenBodies.add(bKey);
        }
        if (items.length>targetCount) items.slice(targetCount).forEach(li=>li.remove());
      }
      function makeVagueParagraph(title, body){
        // single paragraph that is readable but non-prescriptive (4–6 sentences after trim)
        const s1 = body || `${title} presents with small variations across representative URLs.`;
        const s2 = `The effect is less about correctness and more about how emphasis lands when sections are scanned.`;
        const s3 = `Where emphasis drifts, evaluations tend to hesitate before attributing clarity.`;
        const s4 = `When the outline feels consistent, the same material reads as more decisive without adding instructions.`;
        const s5 = `Monitoring a compact set of pages is usually enough to see whether the tone settles in practice.`;
        const s6 = `That steadiness often matters more than any specific element viewed alone.`;
        return [s1,s2,s3,s4,s5,s6].join(' ');
      }
      function softVary(text){ return text.replace(/\bmay\b/gi,'can').replace(/\boften\b/gi,'sometimes'); }
      function trimToSentenceRange(text,minS,maxS){
        const parts=(text||'').split(/(?<=[.!?])\s+(?=[A-Z(0-9])/).filter(Boolean);
        if(parts.length>maxS) return parts.slice(0,maxS).join(' ');
        if(parts.length<minS) return (text+' Observing how this settles over a typical content cycle is reasonable.').trim();
        return text;
      }
      function hashString(s){ let h=0; for(let i=0;i<s.length;i++){ h=(h<<5)-h+s.charCodeAt(i); h|=0; } return h; }
      function escapeHTML(s){ return (s||'').replace(/[&<>"']/g, m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])); }

      // Templates for 7 working / 20 needs (vague, 4–6 sentences)
      function makeWorkingTemplates(d){
        return [
          { title:"SSL Security Implementation", text:`Traffic on ${d} moves securely and without theatrics. The experience feels sturdy rather than delicate, which reduces second-guessing during evaluation. Subtle parts of the flow resolve consistently across ordinary paths. That calm predictability nudges trust forward. Over time it reads as a default posture rather than a special case.` },
          { title:"Mobile-Responsive Design", text:`Layouts on ${d} reflow in a way that keeps the story intact. Elements tend to settle quickly, leaving few reasons to re-read the frame. Readers can follow the thread without guarding against layout surprises. The result is a page that feels prepared for small screens rather than adapted at the last minute. That tone carries.` },
          { title:"Content Structure Recognition", text:`The spine of headings and lists on ${d} comes through with minimal friction. Sections announce themselves without demanding attention. It is easy to infer where a thought begins and ends. That clarity is quiet, but it reduces the work required to understand intent. Quiet work still counts.` },
          { title:"Redirect & Canonical Hygiene", text:`Journeys across ${d} generally resolve to expected versions. Momentum is rarely lost to side corridors or decorative variants. The path feels chosen on purpose rather than tolerated. That sense of intention preserves context between visits. Familiarity compounds.` },
          { title:"Image Description Coverage", text:`Visuals on ${d} are accompanied by language often enough to feel deliberate. Captions and descriptions do not overexplain, yet they rarely leave gaps. This balance allows images to participate in the narrative rather than orbit around it. Participation reads as clarity. Clarity reads as care.` },
          { title:"Baseline Identity Signals", text:`Across ${d}, who is speaking is not difficult to infer. Contact routes are findable, and the footprint feels tangible. The details do not compete for attention; they simply exist where expected. That ordinariness is a form of reassurance. Reassurance tends to extend shelf life.` },
          { title:"Update Cadence Visibility", text:`Key areas on ${d} suggest that the surface changes without dramatics. Timeliness appears at hand when relevant and fades when not. The rhythm feels lived-in rather than scheduled. That cadence avoids drawing heat to old corners while keeping the picture current. Rhythm is remembered.` },
        ];
      }
      function makeNeedsTemplates(d){
        return [
          { title:"Schema Markup Missing", text:`On ${d}, the ambient cues about identity and scope feel lighter than the story they support. The narrative remains intelligible, but thin scaffolding invites hesitation when clarity would otherwise be assumed. That pause rarely shifts meaning; it does soften confidence. When confidence softens, attention drifts to louder outlines. Loudness is not the goal, but a recognizable shape helps.` },
          { title:"Internal Linking Strategy", text:`Threads within ${d} sometimes loosen at the moment a reader expects a handoff. The material remains available; the route simply feels optional. Optional routes encourage browsing rather than understanding. Browsing is pleasant, yet it can blur the point of the page. The point is worth making easy to return to.` },
          { title:"Content Depth Analysis", text:`Explanations on ${d} reach for completeness while landing on familiarity. The result is a page that understands its subject without fully inhabiting it. That distance is not audible in every sentence; it shows in how the page is remembered. Memory favors the version that feels like the place where an idea lives. Familiarity alone does not earn that place.` },
          { title:"Site Architecture Issues", text:`A few sections echo one another across ${d} with similar emphasis. Nothing breaks; the outline just smudges at the edges. Smudged edges make it harder for a page to hold the single sentence it hopes to be. When the spine steadies, the same words read as more decisive. Decisive pages carry farther.` },
          { title:"Local SEO Signals", text:`The sense of place on ${d} appears as implication rather than presence. Hours, coverage, and location are visible, yet the frame feels soft. Soft frames work for casual reading while leaving formal evaluations undecided. Undecided voices rarely advocate. Presence wins arguments that implication merely starts.` },
          { title:"Content Freshness Gaps", text:`Time is present on ${d}, though it sometimes stands behind the curtain. Claims age gracefully until the moment the date matters and then the page must carry it. When recency is easy to see, the question ends sooner. Questions left open change how the rest of the page feels. Ending small questions is not a small thing.` },
          { title:"Core Web Vitals Optimization", text:`The first beat on ${d} asks for a moment of patience. Elements arrive, yet the room feels unfinished for a breath. That breath can be enough for attention to look sideways. When the entrance lightens, the same content feels closer. Closeness outperforms cleverness.` },
          { title:"Result Framing Signals", text:`Titles and summaries on ${d} sometimes stand between two thoughts. The intention is decipherable; the phrasing lingers. Lingering gives space for neighbors to be louder. Louder pages are not always better, but they are chosen more often. Being chosen begins with a single, confident line.` },
          { title:"Heading Structure", text:`The ladder of headings on ${d} is visible yet shifts its center in places. Readers follow, though the emphasis drifts. Drifting emphasis turns strong scans into careful ones. Careful reading has its place; clarity has more. The page benefits when the center stays where it is announced.` },
          { title:"Image Alt Text Coverage", text:`A few meaningful visuals on ${d} pass without a companion line. The story remains whole; the picture simply speaks in a lower register. When description and image align, the idea lands once instead of twice. Landing once is enough to be remembered. Memory does the rest.` },
          { title:"Mobile Interaction Friction", text:`Touch behaviors on ${d} introduce pauses where flow would prefer none. The gestures are familiar, but space narrows in spots. Narrow paths keep progress but dilute pace. Pace affects how intent is perceived in passing. Passing moments decide what is revisited.` },
          { title:"Robots & Sitemaps Hygiene", text:`The public outline of ${d} is visible but not emphatic. Routes exist, though the doorway looks similar to the wall. When a door looks like a door, more people try the handle. Handles are small; they change the room. Changing the room does not require moving the furniture.` },
          { title:"Canonicalization & Duplicates", text:`Echoes across ${d} appear in more than one corridor. A single echo is harmless; a chorus dilutes the room tone. Dilution makes strong sentences sound like background. Background sets mood but rarely carries meaning. Meaning prefers a solo.` },
          { title:"FAQ Coverage", text:`Common questions near ${d} surface intermittently without owning a home. Curiosity is met while the frame remains borrowed. Borrowed frames look temporary even when they are not. A visible host changes the posture of the answer. Posture is a signal in itself.` },
          { title:"Topic Focus Clarity", text:`More than one intention occasionally shares a chair on ${d}. The conversation still works; it is just harder to quote afterwards. Quotable pages are chosen by people in a hurry. Hurry is the default. Defaults decide outcomes more often than plans.` },
          { title:"Internal Connection Mapping", text:`Names and terms on ${d} appear without their usual companions in a few pivotal moments. The trail exists but only as a suggestion. Suggestions are fine for exploration and weak for reference. References are what summaries prefer. Preference accumulates.` },
          { title:"Author, Bylines & Contact Paths", text:`A human voice is audible on ${d}, though its signature is light in places. It is clear someone is speaking; it is less clear who is being addressed. Clear voices are remembered even when the subject changes. Memory acts like gravity for attention. Gravity keeps orbits stable.` },
          { title:"Third-Party Profile Consistency", text:`Around ${d}, nearby listings repeat the brand with small variations. Each difference makes sense alone; together they suggest drift. Drift makes it harder to confirm that a page is the same page across surfaces. Confirmation ends loops. Ending loops is a kindness.` },
          { title:"Structured Data Coverage Depth", text:`Beyond the basics on ${d}, the scaffolding is present but spare. The outline is readable; the stitching shows at the edges. A little more fabric can change the silhouette without changing the garment. Silhouettes are recognized before they are read. Recognition buys time.` },
          { title:"Evidence & Citations", text:`Statements on ${d} make their case plainly while leaving a few hinges out of sight. The idea stands, but the brackets are hard to point at. When support is visible from the aisle, the conversation moves faster. Momentum is a form of persuasion. Persuasion is the quiet goal.` },
        ];
      }

      // LLM insights: bullets → logo + paragraph (logos from /img only)
      function transformAIInsights(root){
        const title=Array.from(root.querySelectorAll('.section-title')).find(n=>/ai\s*engine\s*insights/i.test(n.textContent||'')); if(!title) return;
        let ul=title.nextElementSibling; while(ul&&ul.tagName&&ul.tagName.toLowerCase()!=='ul') ul=ul.nextElementSibling; if(!ul) return;
        const texts=Array.from(ul.querySelectorAll('li')).map(li=>li.textContent.trim()); if(!texts.length) return;
        const engines=['ChatGPT','Claude','Gemini','Copilot','Perplexity'];
        const container=document.createElement('div'); container.className='llm-insights';
        engines.forEach((engine,i)=>{ const t=texts[i]||''; if(!t) return; const row=document.createElement('div'); row.className='llm-row';
          row.appendChild(logoDivFor(engine));
          const p=document.createElement('p'); p.textContent=t; row.appendChild(p);
          container.appendChild(row); });
        ul.replaceWith(container);
      }
    });
  </script>
</body>
</html>
